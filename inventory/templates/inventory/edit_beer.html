{% extends 'base.html' %}
{% load static %}

{% block additional_css %}
    <!-- Include custom CSS for styling this specific page -->
    <link rel="stylesheet" href="{% static 'inventory/css/inventory.css' %}">
{% endblock %}

{% block extended_title %}| Add Beer{% endblock %}

{% block content %}
<div class="overflow-hidden position-relative text-black py-4 bg-gray">
    <!-- Product Management Section -->
    <div class="row">
        <div class="text-center text-uppercase col-12">
            <h3 class="mb-3">Product Management</h3>
            <hr class="bg-black my-0">
        </div>
    </div>

    <!-- Form Section -->
    <div class="row mt-3">
        <div class="col-12 col-lg-6 offset-lg-3">
            <p class="text-uppercase px-4 mb-0 mb-lg-2">Edit a Beer</p>
            <!-- Form for editing a beer item -->
            <form action="{% url 'edit_beer' beer.id %}" method="POST" class="mt-3 px-3" id="add-beer-form">
                {% csrf_token %}
                {% for field in form %}
                    {% if field.name != 'image' %}
                        <!-- Render non-image fields using crispy forms -->
                        {{ field | as_crispy_field }}
                    {% else %}
                        <!-- Render image field separately -->
                        {{ field }}
                    {% endif %}
                {% endfor %}
                <!-- Buttons for navigation and submission -->
                <div class="mt-3">
                    <a href="{% url 'beers' %}" class="btn-gray text-white mx-0">
                        <span class="icon">
                            <i class="fas fa-chevron-left"></i>
                        </span>
                        <span>Back to Beers</span>
                    </a>
                    <button class="btn-gray float-right mr-0">Update</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block end_js %}
    <!-- Include base.js from parent block -->
    {{ block.super }}
    <!-- JavaScript for handling image file selection -->
    <script type="text/javascript">
        $('#new-image').change(function() {
            var file = $('#new-image')[0].files[0];
            $('#filename').text(`Image will be set to: ${file.name}`);
        });
    </script>
{% endblock %}